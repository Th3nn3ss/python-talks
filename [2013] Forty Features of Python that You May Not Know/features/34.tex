% Author: Victor Terron (c) 2013
% License: CC BY-SA 4.0

\begin{frame}[fragile]{34. itertools.chain()}
  \small
  \begin{block}{}
    \centering
    La función \structure{chain()}, del módulo \structure{itertools},
    crea un \structure{iterador} que devuelve, uno a uno, elementos de
    cada uno de los iterables que recibe, recorriéndolos todos.
  \end{block}

  \footnotesize
  \begin{exampleblock}{}
    \begin{lstlisting}
>>> import itertools
>>> x = [1, 2, 3]
>>> y = [8, 9, 10]
>>> for numero in itertools.chain(x, y):
...     print numero
...
1
2
3
8
9
10
    \end{lstlisting}
  \end{exampleblock}
\end{frame}

\begin{frame}[fragile]{34. itertools.chain()}
  \scriptsize
  \begin{exampleblock}
    {\footnotesize
      Aplanar una lista de listas, como hicimos antes:}
    \begin{lstlisting}
>>> it = itertools.chain([1, 2], [3], [4, 5], [6, 7, 8])
>>> it
<itertools.chain object at 0x2536590>
>>> list(it)
[1, 2, 3, 4, 5, 6, 7, 8]
>>> list(it)
[]
    \end{lstlisting}
  \end{exampleblock}

  \begin{exampleblock}
  {\footnotesize
    Utilizando * para desempaquetar las sublistas:}
    \begin{lstlisting}
>>> sublistas = [[4, 5], [6, 7]]
>>> list(itertools.chain(*sublistas))
[4, 5, 6, 7]
    \end{lstlisting}
  \end{exampleblock}
\end{frame}

\begin{frame}[fragile]{34. itertools.chain()}
  \small
  \begin{alertblock}{}
    \centering
    Pero \structure{chain()} acepta mucho más que listas: le podemos pasar
    \structure{cualquier cosa sobre la que se pueda iterar}. Esto incluye
    generadores, conjuntos, diccionarios y cualquier objeto cuyos
    elementos podemos recorrer de uno en uno.
  \end{alertblock}

  \scriptsize
  \begin{exampleblock}
    {Dos conjuntos:}
    \begin{lstlisting}
>>> s1 = set([1, 2, 3])
>>> s2 = set([6, 5, 4])
>>> list(itertools.chain(s1, s2))
[1, 2, 3, 4, 5, 6]
    \end{lstlisting}
  \end{exampleblock}

  \begin{exampleblock}
    {Diccionaro (claves) y conjunto:}
    \begin{lstlisting}
>>> d1 = {1 : "uno", 2 : "dos"}
>>> s1 = set(["tres", "cuatro"])
>>> list(itertools.chain(d1, d2))
[1, 2, 'cuatro', 'tres']
    \end{lstlisting}
  \end{exampleblock}
\end{frame}
