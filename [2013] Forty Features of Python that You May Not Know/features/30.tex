% Author: Victor Terron (c) 2013
% License: CC BY-SA 4.0

\begin{frame}{30. \{\} y dict()}
  \begin{center}
    \centering
    \small
    Habitualmente los \structure{diccionarios} se contruyen usando \structure{{}}
  \end{center}

  \begin{block}{}
    \Large
    \centering {'uno': 1, 'dos': 2, 'tres': 3}
  \end{block}

  \vspace{0.5cm}

  \begin{center}{}
    \centering
    \small
    También podemos hacerlo, sin embargo, utilizando
    \structure{dict()}. Esto tiene la ventaja de que podemos definir
    los elementos del diccionario como \structure{argumentos
      nombrados} --- esto nos ahorra tener que poner comillas
    alrededor de las claves que sean cadenas de texto:
  \end{center}

  \begin{block}{}
    \Large
    \centering dict(uno = 1, dos = 2, tres = 3)
  \end{block}
\end{frame}

\begin{frame}[fragile]{30. \{\} y dict()}
  \small
  \begin{block}{}
    \centering
    Una \structure{limitación de dict()} es que las claves de nuestro
    diccionario sólo pueden ser identificadores (nombres de variable)
    \structure{válidos} en Python. Por el contrario, \structure{\{\}}
    admite cualquier identificador.
  \end{block}

  \footnotesize
  \begin{exampleblock}
    {Esto es perfectamente legal}
    \begin{lstlisting}
>>> d = {1 : "uno", 2 : "dos", 3 : "tres"}
>>> d[1]
'uno'
    \end{lstlisting}
  \end{exampleblock}

  \begin{exampleblock}
    {Pero un entero no es un nombre de variable válido:}
    \begin{lstlisting}
>>> dict(1 = "uno", 2 = "dos", 3 = "tres")
  File "<stdin>", line 1
SyntaxError: keyword can't be an expression
    \end{lstlisting}
  \end{exampleblock}
\end{frame}

\begin{frame}[fragile]{30. \{\} y dict()}
  \begin{alertblock}{}
    \centering
    Esto es, en esencia, \structure{una cuestión de estilo} -- hay
    quien lo considera más cómodo y legible, pero dict() también tiene
    sus detractores.
  \end{alertblock}

  \vspace{0.5cm}

  \footnotesize
  \begin{center}
    \centering
    Doug Hellmann, por ejemplo, ha cuantificado que es seis veces más
    lento que \{\}, y que consume más memoria.
  \end{center}

  \footnotesize
    \begin{block}
    {\centering The Performance Impact of Using dict() Instead of \{\} in CPython 2.7}
    \centering
    \url{http://doughellmann.com/2012/11/the-performance-impact-of-using-dict-instead-of-in-cpython-2-7-2.html}
  \end{block}
\end{frame}
